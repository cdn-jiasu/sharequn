/*
 nice-validator 1.1.2
 (c) 2012-2017 Jony Zhang <niceue@live.com>, MIT Licensed
 https://github.com/niceue/nice-validator
 */
(function(g){"object"===typeof module&&module.exports?module.exports=g(require("jquery")):"function"===typeof define&&define.amd?define(["jquery"],g):g(jQuery)})(function(g,U){function n(b,a){function c(){d.$el=g(b);d.$el.length?d._init(d.$el[0],a):m(b)&&(B[b]=a)}var d=this;if(!(d instanceof n))return new n(b,a);if(n.pending)g(window).on("validatorready",c);else c()}function J(b){function a(){var a=this.options,b;for(b in a)b in x&&(this[b]=a[b]);g.extend(this,{_valHook:function(){return"true"===
this.element.contentEditable?"text":"val"},getValue:function(){var a=this.element;return"number"===a.type&&a.validity&&a.validity.badInput?"NaN":g(a)[this._valHook()]()},setValue:function(a){g(this.element)[this._valHook()](this.value=a)},getRangeMsg:function(a,b,c){function d(a,b){return k?a>b:a>=b}if(b){var f=this.messages[this._r]||"",e,g=b[0].split("~"),k="false"===b[1];b=g[0];var h=g[1],l="rg",m=[""],n=t(a)&&+a===+a;2===g.length?b&&h?(n&&d(a,+b)&&d(+h,a)&&(e=!0),m=m.concat(g),l=k?"gtlt":"rg"):
    b&&!h?(n&&d(a,+b)&&(e=!0),m.push(b),l=k?"gt":"gte"):!b&&h&&(n&&d(+h,a)&&(e=!0),m.push(h),l=k?"lt":"lte"):(a===+b&&(e=!0),m.push(b),l="eq");f&&(c&&f[l+c]&&(l+=c),m[0]=f[l]);return e||this._rules&&(this._rules[this._i].msg=this.renderMsg.apply(null,m))}},renderMsg:function(){var a=arguments,b=a[0],c=a.length;if(b){for(;--c;)b=b.replace("{"+c+"}",a[c]);return b}}})}function c(a,c,f){this.key=a;this.validator=b;g.extend(this,f,c)}a.prototype=b;c.prototype=new a;return c}function y(b,a){if(r(b)){var c;
    a=a?!0===a?this:a:y.prototype;for(c in b)/^\w+$/.test(c)&&(a[c]=G(b[c]))}}function z(b,a){if(r(b)){var c;a=a?!0===a?this:a:z.prototype;for(c in b)a[c]=b[c]}}function G(b){switch(g.type(b)){case "function":return b;case "array":var a=function(){return b[0].test(this.value)||b[1]||!1};a.msg=b[1];return a;case "regexp":return function(){return b.test(this.value)}}}function H(b){var a,c;if(b&&b.tagName){switch(b.tagName){case "INPUT":case "SELECT":case "TEXTAREA":case "BUTTON":case "FIELDSET":b=b.form||
g(b).closest(".nice-validator");break;case "FORM":break;default:b=g(b).closest(".nice-validator")}for(a in B)if(g(b).is(a)){c=B[a];break}return g(b).data("validator")||g(b).validator(c).data("validator")}}function K(b,a){if((b=t(l(b,"data-rule-"+a)))&&(b=(new Function("return "+b))()))return G(b)}function C(b,a,c){var d=a.msg;a=a._r;r(d)&&(d=d[a]);m(d)||(d=l(b,"data-msg-"+a)||l(b,"data-msg")||(c?m(c)?c:c[a]:""));return d}function L(b){var a;b&&(a=I.exec(b));return a&&a[0]}function w(b){return"INPUT"===
    b.tagName&&"checkbox"===b.type||"radio"===b.type}function D(b){var a="#"===b.charAt(0);b=b.replace(/([:.{(|)}/\[\]])/g,"\\$1");return a?b:'[name="'+b+'"]:first'}var M=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,N=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,O=/(?:([^:;\(\[]*):)?(.*)/,P=/[^\x00-\xff]/g,I=/top|right|bottom|left/,Q=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,R=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gmi,S=g.noop,v=g.proxy,t=g.trim,u=g.isFunction,m=function(b){return"string"===
    typeof b},r=function(b){return b&&"[object Object]"===Object.prototype.toString.call(b)},T=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),l=function(b,a,c){if(!b||!b.tagName)return null;if(void 0!==c)null===c?b.removeAttribute(a):b.setAttribute(a,""+c);else return b.getAttribute(a)},E,B={},F={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",
    invalidClass:"n-invalid",bindClassTo:null},x={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(b){if(m(b)||r(b)&&("error"in b||"ok"in b))return b},msgMaker:function(b){var a;a='<span role="alert" class="msg-wrap n-'+b.type+'">'+b.arrow;b.result?g.each(b.result,function(c,d){a+='<span class="n-'+d.type+'">'+b.icon+'<span class="n-msg">'+d.msg+"</span></span>"}):a+=b.icon+'<span class="n-msg">'+b.msg+"</span>";return a+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',
    msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},A={};g.fn.validator=function(b){var a=this,c=arguments;if(a.is(":verifiable"))return a;a.is("form")||(a=this.find("form"));a.length||(a=this);a.each(function(){var a=g(this).data("validator");a?m(b)?"_"!==b.charAt(0)&&a[b].apply(a,[].slice.call(c,1)):b&&(a._reset(!0),a._init(this,b)):new n(this,b)});return this};g.fn.isValid=function(b,a){var c=H(this[0]),d=u(b),e;if(!c)return!0;d||void 0!==a||(a=b);c.checkOnly=!!a;e=c.options;a=c._multiValidate(this.is(":verifiable")?
    this:this.find(":verifiable"),function(a){a||!e.focusInvalid||c.checkOnly||c.$el.find("[aria-invalid]:first").focus();d&&(b.length?b(a):a&&b());c.checkOnly=!1});return d?this:a};g.extend(g.expr.pseudos||g.expr[":"],{verifiable:function(b){var a=b.nodeName.toLowerCase();return("input"===a&&!{submit:1,button:1,reset:1,image:1}[b.type]||"select"===a||"textarea"===a||"true"===b.contentEditable)&&!b.disabled},filled:function(b){return!!t(g(b).val())}});n.prototype={_init:function(b,a){var c=this,d,e;u(a)&&
(a={valid:a});a=c._opt=a||{};e=l(b,"data-validator-option");e=c._dataOpt=e&&"{"===e.charAt(0)?(new Function("return "+e))():{};d=c._themeOpt=A[a.theme||e.theme||F.theme];a=c.options=g.extend({},F,x,d,c.options,a,e);c.rules=new y(a.rules,!0);c.messages=new z(a.messages,!0);c.Field=J(c);c.elements=c.elements||{};c.deferred={};c.errors={};c.fields={};c._initFields(a.fields);c.$el.data("validator")||(c.$el.data("validator",c).addClass("nice-validator "+a.formClass).on("form-submit-validate",function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b,d,e,g){c.vetoed=g.veto=!c.isValid;c.ajaxFormOptions=e}).on("submit.validator validate.validator",v(c,"_submit")).on("reset.validator",v(c,"_reset")).on("showmsg.validator",v(c,"_showmsg")).on("hidemsg.validator",v(c,"_hidemsg")).on("focusin.validator click.validator",":verifiable",v(c,"_focusin")).on("focusout.validator validate.validator",":verifiable",v(c,"_focusout")).on("keyup.validator input.validator compositionstart compositionend",":verifiable",v(c,"_focusout")).on("click.validator",":radio,:checkbox",
    "click",v(c,"_focusout")).on("change.validator",'select,input[type="file"]',"change",v(c,"_focusout")),c._NOVALIDATE=l(b,"novalidate"),l(b,"novalidate","novalidate"));m(a.target)&&c.$el.find(a.target).addClass("msg-container")},_guessAjax:function(b){function a(a,b,e){return a&&a[b]&&g.map(a[b],function(a){return~a.namespace.indexOf(e)?1:null}).length?!0:!1}(this.isAjaxSubmit=!!this.options.valid)||(b=(g._data||g.data)(b,"events"),this.isAjaxSubmit=a(b,"valid","form")||a(b,"submit","form-plugin"))},
    _initFields:function(b){function a(a,b){null===b||g?((b=c.elements[a])&&c._resetElement(b,!0),delete c.fields[a]):c.fields[a]=new c.Field(a,m(b)?{rule:b}:b,c.fields[a])}var c=this,d,e,f,g=null===b;g&&(b=c.fields);if(r(b))for(d in b)if(~d.indexOf(","))for(e=d.split(","),f=e.length;f--;)a(t(e[f]),b[d]);else a(d,b[d]);c.$el.find(":verifiable").each(function(){c._parse(this)})},_parse:function(b){var a,c=b.name,d,e;(d=l(b,"data-rule"))&&l(b,"data-rule",null);b.id&&("#"+b.id in this.fields||!c||null!==
    d&&(a=this.fields[c])&&d!==a.rule&&b.id!==a.key)&&(c="#"+b.id);c||(c="#"+(b.id="N"+String(Math.random()).slice(-12)));a=this.getField(c,!0);a.rule=d||a.rule;if(d=l(b,"data-display"))a.display=d;if(a.rule){if(null!==l(b,"data-must")||/\b(?:match|checked)\b/.test(a.rule))a.must=!0;/\brequired\b/.test(a.rule)&&(a.required=!0);(e=l(b,"data-timely"))?a.timely=+e:3<a.timely&&l(b,"data-timely",a.timely);this._parseRule(a);a.old={}}m(a.target)&&l(b,"data-target",a.target);m(a.tip)&&l(b,"data-tip",a.tip);
        return this.fields[c]=a},_parseRule:function(b){var a=O.exec(b.rule);a&&(b._i=0,a[1]&&(b.display=a[1]),a[2]&&(b._rules=[],a[2].replace(M,function(){var a=arguments;a[4]=a[4]||a[5];b._rules.push({and:"&"===a[1],not:"!"===a[2],or:"|"===a[6],method:a[3],params:a[4]?g.map(a[4].split(", "),t):void 0})})))},_multiValidate:function(b,a){var c=this,d=c.options;c.hasError=!1;d.ignore&&(b=b.not(d.ignore));b.each(function(){c._validate(this);if(c.hasError&&d.stopOnError)return!1});a&&(c.validating=!0,g.when.apply(null,
        g.map(c.deferred,function(a){return a})).done(function(){a.call(c,!c.hasError);c.validating=!1}));return g.isEmptyObject(c.deferred)?!c.hasError:void 0},_submit:function(b){var a=this,c=a.options,d=b.target,e="submit"===b.type&&!b.isDefaultPrevented();b.preventDefault();E&&~(E=!1)||a.submiting||"validate"===b.type&&a.$el[0]!==d||u(c.beforeSubmit)&&!1===c.beforeSubmit.call(a,d)||(void 0===a.isAjaxSubmit&&a._guessAjax(d),a._debug("log","\n<<< event: "+b.type),a._reset(),a.submiting=!0,a._multiValidate(a.$el.find(":verifiable"),
        function(b){var f=b||2===c.debug?"valid":"invalid",k;b||(c.focusInvalid&&a.$el.find("[aria-invalid]:first").focus(),k=g.map(a.errors,function(a){return a}));a.submiting=!1;a.isValid=b;u(c[f])&&c[f].call(a,d,k);a.$el.trigger(f+".form",[d,k]);a._debug("log",">>> "+f);if(b)if(a.vetoed)g(d).ajaxSubmit(a.ajaxFormOptions);else if(e&&!a.isAjaxSubmit){if("function"==typeof AjaxFormSubmit)return AjaxFormSubmit(g(d)),!1;document.createElement("form").submit.call(d)}}))},_reset:function(b){var a=this;a.errors=
    {};b&&(a.reseting=!0,a.$el.find(":verifiable").each(function(){a._resetElement(this)}),delete a.reseting)},_resetElement:function(b,a){this._setClass(b,null);this.hideMsg(b)},_focusin:function(b){var a=b.target,c;if(!(this.validating||"click"===b.type&&document.activeElement===a))if(this.options.focusCleanup&&"true"===l(a,"aria-invalid")&&(this._setClass(a,null),this.hideMsg(a)),c=l(a,"data-tip"))this.showMsg(a,{type:"tip",msg:c});else if(l(a,"data-rule")&&this._parse(a),a=l(a,"data-timely"))8!==
    a&&9!==a||this._focusout(b)},_focusout:function(b){var a=this,c=a.options,d=b.target,e=b.type,f,h="focusin"===e,k="validate"===e,l,q,p,m,n=0;"compositionstart"===e&&(a.pauseValidate=!0);"compositionend"===e&&(a.pauseValidate=!1);if(!a.pauseValidate&&(l=d.name&&w(d)?a.$el.find('input[name="'+d.name+'"]').get(0):d,(q=a.getField(l))&&q.rule)){f=q._e;q._e=e;m=q.timely;if(!k){if(!m||w(d)&&"click"!==e)return;l=q.getValue();if(q.ignoreBlank&&!l&&!h){a.hideMsg(d);return}if("focusout"===e){if("change"===f)return;
        if(2===m||8===m)if(e=q.old,l&&e)q.isValid&&!e.showOk?a.hideMsg(d):a._makeMsg(d,q,e);else return}else{if(2>m&&!b.data)return;p=+new Date;if(100>p-(d._ts||0))return;d._ts=p;if("keyup"===e){if("input"===f)return;b=b.keyCode;f={8:1,9:1,16:1,32:1,46:1};if(9===b&&!l||48>b&&!f[b])return}h||(n=100>m?"click"===e||"SELECT"===d.tagName?0:400:m)}}c.ignore&&g(d).is(c.ignore)||(clearTimeout(q._t),n?q._t=setTimeout(function(){a._validate(d,q)},n):(k&&(q.old={}),a._validate(d,q)))}},_setClass:function(b,a){b=g(b);
        var c=this.options;c.bindClassTo&&(b=b.closest(c.bindClassTo));b.removeClass(c.invalidClass+" "+c.validClass);null!==a&&b.addClass(a?c.validClass:c.invalidClass)},_showmsg:function(b,a,c){var d=this;b=b.target;d.$el.is(b)?r(a)?d.showMsg(a):"tip"===a&&d.$el.find(":verifiable[data-tip]",b).each(function(){d.showMsg(this,{type:a,msg:c})}):d.showMsg(b,{type:a,msg:c})},_hidemsg:function(b){b=g(b.target);b.is(":verifiable")&&this.hideMsg(b)},_validatedField:function(b,a,c){var d=this.options,e=a.isValid=
        c.isValid=!!c.isValid,f=e?"valid":"invalid";c.key=a.key;c.ruleName=a._r;c.id=b.id;c.value=a.value;this.elements[a.key]=c.element=b;this.isValid=this.$el[0].isValid=e?this.isFormValid():e;e?c.type="ok":(this.submiting&&(this.errors[a.key]=c.msg),this.hasError=!0);a.old=c;u(a[f])&&a[f].call(this,b,c);u(d.validation)&&d.validation.call(this,b,c);g(b).attr("aria-invalid",e?null:!0).trigger(f+".field",[c,this]);this.$el.triggerHandler("validation",[c,this]);this.checkOnly||(this._setClass(b,c.skip||"tip"===
    c.type?null:e),this._makeMsg.apply(this,arguments))},_makeMsg:function(b,a,c){a.msgMaker&&(c=g.extend({},c),"focusin"===a._e&&(c.type="tip"),this[c.showOk||c.msg||"tip"===c.type?"showMsg":"hideMsg"](b,c,a))},_validatedRule:function(b,a,c,d){a=a||e.getField(b);d=d||{};var e=this,f,h=a._r,k=a.timely,k=9===k||8===k,n,q,p=!1;if(null===c)e._validatedField(b,a,{isValid:!0,skip:!0}),a._i=0;else{void 0===c?n=!0:!0===c||""===c?p=!0:m(c)?f=c:r(c)&&(c.error?f=c.error:(f=c.ok,p=!0));c=a._rules[a._i];c.not&&(f=
        void 0,p="required"===h||!p);if(c.or)if(p)for(;a._i<a._rules.length&&a._rules[a._i].or;)a._i++;else n=!0;else c.and&&(a.isValid||(n=!0));if(n)p=!0;else{p&&!1!==a.showOk&&(q=l(b,"data-ok"),f=null===q?m(a.ok)?a.ok:f:q,!m(f)&&m(a.showOk)&&(f=a.showOk),m(f)&&(d.showOk=p));if(!p||k)f=(C(b,a,f||c.msg||e.messages[h])||e.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(c,d){return e._getDisplay(b,a.display)||d||e.messages[0]});p||(a.isValid=p);d.msg=f;g(b).trigger((p?"valid":"invalid")+".rule",[h,f])}!k||
    n&&!c.and||(p||a._m||(a._m=f),a._v=a._v||[],a._v.push({type:p?n?"tip":"ok":"error",msg:f||c.msg}));e._debug("log","   "+a._i+": "+h+" => "+(p||f));(p||k)&&a._i<a._rules.length-1?(a._i++,e._checkRule(b,a)):(a._i=0,k?(d.isValid=a.isValid,d.result=a._v,d.msg=a._m||"",a.value||"focusin"!==a._e||(d.type="tip")):d.isValid=p,e._validatedField(b,a,d),delete a._m,delete a._v)}},_checkRule:function(b,a){var c=this,d,e,f=a.key,h=a._rules[a._i],k=h.method;d=h.params;c.submiting&&c.deferred[f]||(e=a.old,a._r=
        k,e&&!a.must&&!h.must&&void 0!==h.result&&e.ruleName===k&&e.id===b.id&&a.value&&e.value===a.value?d=h.result:(e=K(b,k)||c.rules[k]||S,d=e.call(a,b,d,a),e.msg&&(h.msg=e.msg)),r(d)&&u(d.then)?(c.deferred[f]=d,a.isValid=void 0,!c.checkOnly&&c.showMsg(b,{type:"loading",msg:c.messages.loading},a),d.then(function(d,e,f){e=t(f.responseText);f=a.dataFilter;/jsonp?/.test(this.dataType)?e=d:"{"===e.charAt(0)&&(e=g.parseJSON(e));d=f.call(this,e,a);void 0===d&&(d=f.call(this,e.data,a));h.data=this.data;h.result=
        a.old?d:void 0;c._validatedRule(b,a,d)},function(d,e){c._validatedRule(b,a,c.messages[e]||e)}).always(function(){delete c.deferred[f]})):c._validatedRule(b,a,d))},_validate:function(b,a){if(!b.disabled&&null===l(b,"novalidate")&&(a=a||this.getField(b))&&(a._rules||this._parse(b),a._rules)){this._debug("info",a.key);a.isValid=!0;a.element=b;a.value=a.getValue();if(!(a.required||a.must||a.value||w(b)))return this._validatedField(b,a,{isValid:!0}),!0;this._checkRule(b,a);return a.isValid}},_debug:function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    a){if(window.console&&this.options.debug)console[b](a)},test:function(b,a){var c,d=N.exec(a);d&&(a=d[1],a in this.rules&&(d=(d=d[2]||d[3])?d.split(", "):void 0,c=this.getField(b,!0),c._r=a,c.value=c.getValue(),c=this.rules[a].call(c,b,d)));return!0===c||void 0===c||null===c},_getDisplay:function(b,a){return m(a)?a:u(a)?a.call(this,b):""},_getMsgOpt:function(b,a){a=a?a:this.options;return g.extend({type:"error",pos:L(a.msgClass),target:a.target,wrapper:a.msgWrapper,style:a.msgStyle,cls:a.msgClass,
        arrow:a.msgArrow,icon:a.msgIcon},m(b)?{msg:b}:b)},_getMsgDOM:function(b,a){var c=g(b),d,e,f,h;if(c.is(":verifiable")){if(f=a.target||l(b,"data-target"))f=u(f)?f.call(this,b):"#"===f.charAt(0)?g(f):this.$el.find(f),f.length&&(f.is(":verifiable")?(c=f,b=f.get(0)):f.hasClass("msg-box")?d=f:h=f);d||(e=w(b)&&b.name||!b.id?b.name:b.id,d=(h||this.$el).find(a.wrapper+'.msg-box[for="'+e+'"]'))}else d=c;if(!a.hide&&!d.length)if(d=g("<"+a.wrapper+">").attr({"class":"msg-box"+(a.cls?" "+a.cls:""),style:a.style||
        void 0,"for":e}),h)d.appendTo(h);else if(w(b))b=c.parent(),d.appendTo(b.is("label")?b.parent():b);else d[a.pos&&"right"!==a.pos?"insertBefore":"insertAfter"](c);return d},showMsg:function(b,a,c){if(b){var d=this,e=d.options,f,h,k;if(!r(b)||b.jquery||a){if(g(b).is(":verifiable")&&(c=c||d.getField(b)),h=(c||e).msgMaker)a=d._getMsgOpt(a,c),b=(b.name&&w(b)?d.$el.find('input[name="'+b.name+'"]'):g(b)).get(0),a.msg||"error"===a.type||(k=l(b,"data-"+a.type),null!==k&&(a.msg=k)),m(a.msg)&&(k=d._getMsgDOM(b,
        a),!I.test(k[0].className)&&k.addClass(a.cls),6===T&&"bottom"===a.pos&&(k[0].style.marginTop=g(b).outerHeight()+"px"),k.html(h.call(d,a))[0].style.display="",u(f=c&&c.msgShow||e.msgShow)&&f.call(d,k,a.type))}else g.each(b,function(a,b){a=d.elements[a]||d.$el.find(D(a))[0];d.showMsg(a,b)})}},hideMsg:function(b,a,c){var d=this.options;b=g(b).get(0);g(b).is(":verifiable")&&(c=c||this.getField(b))&&(c.isValid||this.reseting)&&l(b,"aria-invalid",null);a=this._getMsgOpt(a,c);a.hide=!0;b=this._getMsgDOM(b,
        a);b.length&&(u(c=c&&c.msgHide||d.msgHide)?c.call(this,b,a.type):(b[0].style.display="none",b[0].innerHTML=null))},getField:function(b,a){var c,d;if(m(b))c=b,b=void 0;else{if(l(b,"data-rule"))return this._parse(b);c=b.id&&"#"+b.id in this.fields||!b.name?"#"+b.id:b.name}if((d=this.fields[c])||a&&(d=new this.Field(c)))d.element=b;return d},setField:function(b,a){var c={};b&&(m(b)?c[b]=a:c=b,this._initFields(c))},isFormValid:function(){var b=this.fields,a,c;for(a in b)if(c=b[a],c._rules&&(c.required||
        c.must||c.value)&&!c.isValid)return!1;return!0},holdSubmit:function(b){this.submiting=void 0===b||b},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1);this.$el.off(".validator").removeData("validator");l(this.$el[0],"novalidate",this._NOVALIDATE)}};g(window).on("beforeunload",function(){this.focus()});g(document).on("click",":submit",function(){var b;this.form&&((b=this.getAttributeNode("formnovalidate"))&&null!==b.nodeValue||null!==l(this,"novalidate"))&&(E=!0)}).on("focusin submit validate",
    "form,.nice-validator",function(b){if(null===l(this,"novalidate")){var a=g(this),c;!a.data("validator")&&(c=H(this))&&(g.isEmptyObject(c.fields)?(l(this,"novalidate","novalidate"),a.off(".validator").removeData("validator")):"focusin"===b.type?c._focusin(b):c._submit(b))}});new z({fallback:"This field is not valid.",loading:"Validating..."});new y({required:function(b,a){var c=this,d=t(c.value),e=!0;if(a)if(1===a.length)if(!/^\w+$/.test(a[0])){if(!d&&!g(a[0],c.$el).length)return null}else{if(c.rules[a[0]]&&
    !d&&!c.test(b,a[0]))return null}else if("not"===a[0])g.each(a.slice(1),function(){return e=d!==t(this)});else if("from"===a[0]){var f=c.$el.find(a[1]),h;(e=f.filter(function(){var a=c.getField(this);return a&&!!t(a.getValue())}).length>=(a[2]||1))?d||(h=null):h=C(f[0],c)||!1;g(b).data("_validated_")||f.data("_validated_",1).each(function(){b!==this&&c._validate(this)}).removeData("_validated_");return h}return e&&!!d},integer:function(b,a){a=a?a[0]:"*";switch(a){case "+":b="[1-9]\\d*";break;case "-":b=
    "-[1-9]\\d*";break;case "+0":b="0|[1-9]\\d*";break;case "-0":b="0|-[1-9]\\d*";break;default:b="0|-?[1-9]\\d*"}return(new RegExp("^(?:"+b+")$")).test(this.value)||this.messages.integer&&this.messages.integer[a]},match:function(b,a){if(a){var c=!0,d,e,f="eq",h,k;1===a.length?e=a[0]:(f=a[0],e=a[1]);h=D(e);if(k=this.$el.find(h)[0]){k=this.getField(k);c=this.value;d=k.getValue();this._match||(this.$el.on("valid.field.validator",h,function(){g(b).trigger("validate")}),this._match=k._match=1);if(!this.required&&
    ""===c&&""===d)return null;if(a=a[2])/^date(time)?$/i.test(a)?(c=Date.parse(c.replace(/\.|\-/g,"/")),d=Date.parse(d.replace(/\.|\-/g,"/"))):"time"===a&&(c=+c.replace(/:/g,""),d=+d.replace(/:/g,""));if("eq"!==f&&!isNaN(+c)&&isNaN(+d))return!0;switch(f){case "lt":c=+c<+d;break;case "lte":c=+c<=+d;break;case "gte":c=+c>=+d;break;case "gt":c=+c>+d;break;case "neq":c=c!==d;break;default:c=c===d}return c||r(this.messages.match)&&this.messages.match[f].replace("{1}",this._getDisplay(b,k.display||e))}}},
    range:function(b,a){return this.getRangeMsg(this.value,a)},checked:function(b,a){if(w(b)){var c;b.name?b=this.$el.find('input[name="'+b.name+'"]').filter(function(){!c&&w(this)&&(c=this);return!this.disabled&&this.checked}).length:(c=b,b=c.checked);return a?this.getRangeMsg(b,a):!!b||C(c,this,"")||this.messages.required||!1}},length:function(b,a){b=this.value;b=("true"===a[1]?b.replace(P,"xx"):b).length;return this.getRangeMsg(b,a,a[1]?"_2":"")},remote:function(b,a){if(a){var c=this,d=Q.exec(a[0]),
        e=c._rules[c._i],f={},h="",k=d[3],l=d[2]||"POST",d=(d[1]||"").toLowerCase(),m;e.must=!0;f[b.name]=c.value;a[1]&&g.map(a.slice(1),function(a){var b;~a.indexOf("=")?h+="&"+a:(b=a.split(":"),a=t(b[0]),b=t(b[1])||a,f[a]=c.$el.find(D(b)).val())});f=g.param(f)+h;if(!c.must&&e.data&&e.data===f)return e.result;"cors"!==d&&/^https?:/.test(k)&&!~k.indexOf(location.host)&&(m="jsonp");return g.ajax({url:k,type:l,data:f,dataType:m})}},filter:function(b,a){b=this.value;a=b.replace(a?new RegExp("["+a[0]+"]","gm"):
        R,"");a!==b&&this.setValue(a)}});n.config=function(b,a){function c(a,b){"rules"===a?new y(b):"messages"===a?new z(b):a in x?x[a]=b:F[a]=b}r(b)?g.each(b,c):m(b)&&c(b,a)};n.setTheme=function(b,a){r(b)?g.extend(!0,A,b):m(b)&&r(a)&&(A[b]=g.extend(A[b],a))};n.load=function(b){if(b){var a=document,c={},d=a.scripts[0],e,f,h;b.replace(/([^?=&]+)=([^&#]*)/g,function(a,b,d){c[b]=d});e=c.dir||n.dir;n.css||""===c.css||(f=a.createElement("link"),f.rel="stylesheet",f.href=n.css=e+"jquery.validator.css",d.parentNode.insertBefore(f,
    d));!n.local&&~b.indexOf("local")&&""!==c.local&&(n.local=(c.local||a.documentElement.lang||"en").replace("_","-"),n.pending=1,f=a.createElement("script"),f.src=e+"local/"+n.local+".js",h="onload"in f?"onload":"onreadystatechange",f[h]=function(){if(!f.readyState||/loaded|complete/.test(f.readyState))f=f[h]=null,delete n.pending,g(window).triggerHandler("validatorready")},d.parentNode.insertBefore(f,d))}};(function(){for(var b=document.scripts,a=b.length,c,d=/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/;a--&&
!c;)c=b[a],c=(c.hasAttribute?c.src:c.getAttribute("src",4)||"").match(d);c&&(n.dir=c[1].split("/").slice(0,-1).join("/")+"/",n.load(c[2]))})();return g.validator=n});